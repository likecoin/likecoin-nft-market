import{f as x,s as E,r,i as b,o,c as a,j as s,d as I,a as e,v as L,x as p,y as m,z as h,F as V,t as D,l as R}from"./entry.62a6a47e.js";import{u as U,v as H,C as O}from"./cosmos.b994be90.js";import{u as B}from"./wallet.e4d87798.js";const M=e("h2",null,"Send NFTs",-1),$={key:0},z={key:1},A=e("label",null,"NFT Class ID",-1),P=e("br",null,null,-1),j=e("br",null,null,-1),G=e("label",null,"Enter List of NFT IDs to send (optional)",-1),W=e("br",null,null,-1),X=e("label",null,"Recepient Address list",-1),q=e("br",null,null,-1),J=e("label",null,"Transfer message",-1),K=e("br",null,null,-1),Q=["href"],Y={key:1},Z={key:3},ne=x({__name:"send",setup(ee){const y=B(),{wallet:i,signer:g}=E(y),u=r(""),T=r(!1),d=r(""),c=r(""),v=r(""),f=r(!1),w=r(""),_=r(""),C=b(()=>d.value.trim().split(`
`).filter(l=>!!l)),N=b(()=>c.value.trim().split(`
`).filter(l=>!!l)),{connect:k}=y;async function F(){if(_.value="",f.value=!1,(!i.value||!g.value)&&await k(),!(!i.value||!g.value))try{f.value=!0;let l=C.value;if(!l||!l.length){const{nfts:n}=await U({classId:u.value,owner:i.value,needCount:N.value.length});l=n.map(S=>S.id)}if(l.length<N.value.length)throw new Error("NOT_ENOUGH_NFT_TO_SEND");const t=await H(N.value,u.value,l,g.value,i.value,v.value);f.value=!1,w.value=t.transactionHash}catch(l){console.error(l),_.value=l.toString()}}return(l,t)=>(o(),a("div",null,[M,s(i)?(o(),a("section",z,[e("section",null,[A,P,p(e("input",{"onUpdate:modelValue":t[1]||(t[1]=n=>h(u)?u.value=n:null),size:"50"},null,512),[[m,s(u)]]),s(T)?(o(),a(V,{key:1},[j,G,W,p(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=n=>h(d)?d.value=n:null),cols:"50",rows:"10"},null,512),[[m,s(d)]])],64)):(o(),a("a",{key:0,href:"#",onClick:t[2]||(t[2]=L(n=>T.value=!0,["prevent"]))}," Maunally enter ID (optional) "))]),e("section",null,[X,q,p(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=n=>h(c)?c.value=n:null),cols:"50",rows:"10"},null,512),[[m,s(c)]])]),e("section",null,[J,K,p(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=n=>h(v)?v.value=n:null),cols:"50",rows:"3"},null,512),[[m,s(v)]])]),s(w)?(o(),a("a",{key:0,href:`${s(O)}/${s(w)}`,target:"_blank",rel:"noopener"}," Success, view transaction here ",8,Q)):s(f)?(o(),a("div",Y,"Loadings...")):(o(),a("button",{key:2,onClick:F},"Send")),s(_)?(o(),a("div",Z,D(s(_)),1)):R("",!0)])):(o(),a("div",$,[I("Please "),e("a",{href:"#",onClick:t[0]||(t[0]=L((...n)=>s(k)&&s(k)(...n),["prevent"]))},"connect"),I(" wallet")]))]))}});export{ne as default};
