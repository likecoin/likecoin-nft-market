import{c as C,_ as F}from"./index.eeb5559a.js";import{a as L,b as T,v as b,r as I,e as x,x as $,f as B,h as a,u as i,l as d,i as t,y as V,F as E,j as M,o,t as r,k as S,m as y}from"./entry.facaa369.js";import{n as D,o as O,B as j}from"./cosmos.2eae727f.js";import{u as K}from"./wallet.0a440043.js";const P=t("h2",null,"View my NFTs",-1),R={key:0},Y={key:1},q={key:0},A={key:1},W=t("thead",null,[t("tr",null,[t("th",null,"#"),t("th",null,"NFT information"),t("th",null,"Your Listing")])],-1),z=["src"],G=t("br",null,null,-1),H=t("br",null,null,-1),J=t("br",null,null,-1),Q=["onClick"],U={key:0},X=["onClick"],as=L({__name:"index",setup(Z){const f=T(),p=K(),{wallet:c}=b(p),u=I({});x(async()=>{c.value||await _(),c.value&&k()}),$(c,e=>{e&&k()});const{connect:_}=p;function h(e,l){return`${e}_${l}`}async function k(){const[e,l]=await Promise.all([D(c.value),O(c.value)]);e.forEach(n=>{u.value[h(n.classId,n.id)]=n}),l.forEach(n=>{const s=u.value[h(n.class_id,n.nft_id)];s.price=n.price,s.expiration=n.expiration})}async function m(e){f.push({path:`/listings/${e}`})}async function g(e,l){f.push({path:`/sell/${e}/${l}`})}const v=B(()=>Object.values(u.value));return(e,l)=>{const n=F;return o(),a("div",null,[P,i(c)?(o(),a("section",Y,[i(v).length?(o(),a("table",A,[W,t("tbody",null,[(o(!0),a(E,null,M(i(v),(s,w)=>(o(),a("tr",{key:h(s.classId,s.id)},[t("td",null,"#"+r(w+1),1),t("td",null,[t("h4",null,r(s.data.metadata.name),1),s.data.metadata.image?(o(),a("img",{key:0,src:i(C)(s.data.metadata.image),width:"64",height:"64"},null,8,z)):S("",!0),G,d(" Class ID: "),y(n,{"class-id":s.classId},null,8,["class-id"]),H,d(" NFT ID: "),y(n,{"class-id":s.classId,"nft-id":s.id},null,8,["class-id","nft-id"]),J,t("button",{onClick:N=>m(s.classId)},"View NFT Class Listing",8,Q)]),t("td",null,[s.price?(o(),a("section",U,[t("div",null,r(new i(j)(s.price).shiftedBy(-9).toFixed())+"LIKE",1),t("div",null,"till "+r(s.expiration),1)])):(o(),a("button",{key:1,onClick:N=>g(s.classId,s.id)},"Sell",8,X))])]))),128))])])):(o(),a("div",q,"You don't own any NFT on LikeCoin chain"))])):(o(),a("div",R,[d("Please "),t("a",{href:"#",onClick:l[0]||(l[0]=V((...s)=>i(_)&&i(_)(...s),["prevent"]))},"connect"),d(" wallet")]))])}}});export{as as default};
