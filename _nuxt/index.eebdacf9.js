import{g as L,c as F,B,_ as $}from"./index.35c3ad47.js";import{_ as x}from"./UserLink.vue_vue_type_script_setup_true_lang.19eb6b11.js";import{a as V,b as I,r as T,e as E,f as l,u as n,h as t,F as M,i as S,j as k,o as a,t as o,k as d,l as r}from"./entry.b2225e57.js";import{u as D}from"./metadata.547bad9a.js";const R={key:0},P=t("h2",null,"Recent NFT Listings",-1),j=t("thead",null,[t("tr",null,[t("th",null,"#"),t("th",null,"NFT information"),t("th",null,"Listing Price")])],-1),z=["src"],K=t("br",null,null,-1),O=t("br",null,null,-1),U=t("br",null,null,-1),q=["onClick"],A=["onClick"],Y=V({__name:"index",setup(G){const v=I(),e=T([]),C=D(),{getClassMetadataById:c,lazyFetchClassMetadata:w}=C;E(async()=>{e.value=await L(),await Promise.all(e.value.map(i=>w(i.class_id)))});function u(i){v.push({path:`/listings/${i}`})}return(i,H)=>{const _=$,N=x;return a(),l("div",null,[n(e).length?(a(),l("section",R,[P,t("table",null,[j,t("tbody",null,[(a(!0),l(M,null,S(n(e),(s,b)=>{var h,f,g,m,p;return a(),l("tr",{key:`${s.class_id}_${s.nft_id}`},[t("td",null,"#"+o(b+1),1),t("td",null,[t("div",null,[t("h4",null,o((h=n(c)(s.class_id))==null?void 0:h.name),1),(m=(g=(f=n(c)(s.class_id))==null?void 0:f.data)==null?void 0:g.metadata)!=null&&m.image?(a(),l("img",{key:0,src:n(F)((p=n(c)(s.class_id).data)==null?void 0:p.metadata.image),height:"64",width:"64"},null,8,z)):k("",!0),K,d(" Class ID: "),r(_,{"class-id":s.class_id},null,8,["class-id"]),O,d(" NFT ID: "),r(_,{"class-id":s.class_id,"nft-id":s.nft_id},null,8,["class-id","nft-id"]),U,d(" Owner: "),r(N,{wallet:s.creator},null,8,["wallet"])]),t("button",{onClick:y=>u(s.class_id)},"View NFT Class Listing",8,q)]),t("td",null,[t("section",null,[t("div",null,o(new n(B)(s.price).shiftedBy(-9).toFixed())+"LIKE",1),t("div",null,"till "+o(s.expiration),1)]),t("button",{onClick:y=>u(s.class_id)},"View",8,A)])])}),128))])])])):k("",!0)])}}});export{Y as default};
