import{a as E,v as V,r as u,f as b,h as o,u as n,l as I,i as e,y as L,z as p,A as m,B as h,F as x,t as D,k as R,o as a}from"./entry.136745c4.js";import{C as U,j as B,k as H}from"./cosmos.50c2661b.js";import{u as O}from"./wallet.6e563ee6.js";const A=e("h2",null,"Send NFTs",-1),M={key:0},$={key:1},P=e("label",null,"NFT Class ID",-1),j=e("br",null,null,-1),z=e("br",null,null,-1),G=e("label",null,"Enter List of NFT IDs to send (optional)",-1),W=e("br",null,null,-1),X=e("label",null,"Recepient Address list",-1),q=e("br",null,null,-1),J=e("label",null,"Transfer message",-1),K=e("br",null,null,-1),Q=["href"],Y={key:1},Z={key:3},le=E({__name:"send",setup(ee){const y=O(),{wallet:r,signer:k}=V(y),i=u(""),T=u(!1),d=u(""),c=u(""),v=u(""),_=u(!1),g=u(""),f=u(""),C=b(()=>d.value.split(`
`)),N=b(()=>c.value.trim().split(`
`)),{connect:w}=y;async function F(){if(f.value="",_.value=!1,(!r.value||!k.value)&&await w(),!(!r.value||!k.value))try{_.value=!0;let l=C.value;if(!l||!l.length){const{nfts:s}=await B({classId:i.value,owner:r.value,needCount:N.value.length});l=s.map(S=>S.id)}if(l.length<N.value.length)throw new Error("NOT_ENOUGH_NFT_TO_SEND");const t=await H(N.value,i.value,l,k.value,r.value,v.value);_.value=!1,g.value=t.transactionHash}catch(l){console.error(l),f.value=l.toString()}}return(l,t)=>(a(),o("div",null,[A,n(r)?(a(),o("section",$,[e("section",null,[P,j,p(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>h(i)?i.value=s:null)},null,512),[[m,n(i)]]),n(T)?(a(),o(x,{key:1},[z,G,W,p(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=s=>h(d)?d.value=s:null)},null,512),[[m,n(d)]])],64)):(a(),o("a",{key:0,href:"#",onClick:t[2]||(t[2]=L(s=>T.value=!0,["prevent"]))}," Maunally enter ID "))]),e("section",null,[X,q,p(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=s=>h(c)?c.value=s:null),cols:"50",rows:"10"},null,512),[[m,n(c)]])]),e("section",null,[J,K,p(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>h(v)?v.value=s:null)},null,512),[[m,n(v)]])]),n(g)?(a(),o("a",{key:0,href:`${n(U)}/${n(g)}`,target:"_blank",rel:"noopener"}," Sucess, view transaction here ",8,Q)):n(_)?(a(),o("div",Y,"Loadings...")):(a(),o("button",{key:2,onClick:F},"Send")),n(f)?(a(),o("div",Z,D(n(f)),1)):R("",!0)])):(a(),o("div",M,[I("Please "),e("a",{href:"#",onClick:t[0]||(t[0]=L((...s)=>n(w)&&n(w)(...s),["prevent"]))},"connect"),I(" wallet")]))]))}});export{le as default};
