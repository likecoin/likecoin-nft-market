import{q as T,b as k,_ as L,B as N,s as C}from"./cosmos.d884c707.js";import{_ as x}from"./UserLink.vue_vue_type_script_setup_true_lang.51748efb.js";import{a as q,b as D,p as R,s as S,r as g,m as V,e as $,f as t,h as s,t as e,u as l,k as m,l as h,F as E,i as K,o as a}from"./entry.fae9e558.js";import{u as M}from"./wallet.8619047b.js";const P=s("h2",null,"Listings",-1),U={key:0},W={key:1},j=s("thead",null,[s("tr",null,[s("th",null,"#"),s("th",null,"NFT information"),s("th",null,"Listing Price")])],-1),z=s("br",null,null,-1),A=["onClick"],Y=q({__name:"[classId]",setup(G){const b=D(),w=R(),v=M(),{wallet:i,signer:c}=S(v),r=g([]),d=g({}),_=V(()=>w.params.classId);$(async()=>{d.value=await T(_.value),r.value=await k(_.value)});const{connect:B}=v;function F(o){return new N(o).shiftedBy(-9).toFixed()}async function I({classId:o,nftId:y,seller:u,price:f}){if((!i.value||!c.value)&&await B(),!i.value||!c.value)return;const n=new N(f).shiftedBy(-9).toNumber(),p=await C(o,y,u,n,c.value,i.value);console.log(p),b.push({path:"/owned"})}return(o,y)=>{const u=L,f=x;return a(),t("div",null,[s("h1",null,e(l(d).name),1),s("p",null,e(l(d).description),1),s("div",null,[m("Class ID: "),h(u,{"class-id":l(_)},null,8,["class-id"])]),P,s("section",null,[l(r).length?(a(),t("table",W,[j,s("tbody",null,[(a(!0),t(E,null,K(l(r),(n,p)=>(a(),t("tr",null,[s("td",null,"#"+e(p+1),1),s("td",null,[s("div",null,[m(" NFT ID: "),h(u,{"class-id":n.classId,"nft-id":n.nftId},null,8,["class-id","nft-id"]),z,m(" Sold by: "),h(f,{wallet:n.seller},null,8,["wallet"])])]),s("td",null,[s("section",null,[s("div",null,e(F(n.price))+" LIKE",1),s("div",null,"till "+e(n.expiration),1)]),s("button",{onClick:H=>I(n)},"Buy",8,A)])]))),256))])])):(a(),t("div",U,"No one is selling this NFT yet"))])])}}});export{Y as default};
