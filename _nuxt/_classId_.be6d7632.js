import{L as I,q as T,b as x,_ as C,B as w,s as $}from"./cosmos.7b4d2fe1.js";import{a as k,o as n,f as a,t as l,u as t,b as q,y as R,z as S,r as L,x as E,e as V,h as e,m as v,l as D,F as K,k as U}from"./entry.801c0c03.js";import{u as z}from"./wallet.1e0a8b35.js";const A=["href"],H=k({__name:"UserLink",props:{wallet:{type:String,required:!0}},setup(c){const i=c;return(y,d)=>(n(),a("a",{href:`https://${t(I)}/${i.wallet}`,target:"_blank",rel:"noopener"},l(c.wallet),9,A))}}),M=e("h2",null,"Listings",-1),O={key:0},W=["onClick"],P=k({__name:"[classId]",setup(c){const i=q(),y=R(),d=z(),{wallet:_,signer:p}=S(d),m=L([]),f=L({}),o=E(()=>y.params.classId);V(async()=>{f.value=await T(o.value),m.value=await x(o.value)});const{connect:B}=d;function b(r){return new w(r).shiftedBy(-9).toFixed()}async function F({classId:r,nftId:g,seller:u,price:h}){if((!_.value||!p.value)&&await B(),!_.value||!p.value)return;const s=new w(h).shiftedBy(-9).toNumber(),N=await $(r,g,u,s,p.value,_.value);console.log(N),i.push({path:"/owned"})}return(r,g)=>{const u=C,h=H;return n(),a("div",null,[e("h1",null,l(t(f).name),1),e("h3",null,[v(u,{"class-id":t(o)},null,8,["class-id"])]),e("p",null,l(t(f).description),1),M,e("ul",null,[t(m).length?D("",!0):(n(),a("div",O,"No one is selling this NFT yet")),(n(!0),a(K,null,U(t(m),s=>(n(),a("li",null,[e("div",null,[v(u,{"class-id":t(o),"nft-id":s.nftId},null,8,["class-id","nft-id"]),e("span",null," | "+l(b(s.price))+" LIKE | ",1),v(h,{wallet:s.seller},null,8,["wallet"]),e("span",null," | "+l(s.expiration),1),e("button",{onClick:N=>F(s)},"Buy",8,W)])]))),256))])])}}});export{P as default};
