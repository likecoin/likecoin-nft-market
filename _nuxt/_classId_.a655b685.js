import{q as x,b as C,_ as V,B as $,s as S}from"./cosmos.599ea217.js";import{_ as q}from"./UserLink.vue_vue_type_script_setup_true_lang.0949f3ea.js";import{a as D,b as E,p as R,s as j,r as k,m as K,e as M,f as l,h as t,t as o,u as e,j as I,k as f,l as p,F as P,i as U,o as a}from"./entry.2dee37ea.js";import{u as W}from"./wallet.353c520d.js";import{c as z,a as A}from"./index.e91e3018.js";const G=t("br",null,null,-1),H=["src"],J=t("br",null,null,-1),O=["href"],Q=t("br",null,null,-1),X=t("h2",null,"Listings",-1),Y={key:0},Z={key:1},tt=t("thead",null,[t("tr",null,[t("th",null,"#"),t("th",null,"NFT information"),t("th",null,"Listing Price")])],-1),et=t("br",null,null,-1),st=["onClick"],ct=D({__name:"[classId]",setup(nt){const w=E(),T=R(),g=W(),{wallet:c,signer:d}=j(g),_=k([]),n=k({}),m=K(()=>T.params.classId);M(async()=>{n.value=await x(m.value),_.value=await C(m.value)});const{connect:B}=g;async function F({classId:v,nftId:y,seller:r,price:h}){if((!c.value||!d.value)&&await B(),!c.value||!d.value)return;const u=new $(h).shiftedBy(-9).toNumber(),i=await S(v,y,r,u,d.value,c.value);console.log(i),w.push({path:"/owned"})}return(v,y)=>{var u,i,N,b;const r=V,h=q;return a(),l("div",null,[t("h1",null,o(e(n).name),1),G,(i=(u=e(n).data)==null?void 0:u.metadata)!=null&&i.image?(a(),l("img",{key:0,src:e(z)(e(n).data.metadata.image),width:"256",height:"256"},null,8,H)):I("",!0),J,t("p",null,o(e(n).description),1),t("div",null,[f("Class ID: "),p(r,{"class-id":e(m)},null,8,["class-id"])]),(b=(N=e(n).data)==null?void 0:N.metadata)!=null&&b.external_url?(a(),l("a",{key:1,href:e(n).data.metadata.external_url,target:"_blank",rel:"noopener"},"View External Link",8,O)):I("",!0),Q,X,t("section",null,[e(_).length?(a(),l("table",Z,[tt,t("tbody",null,[(a(!0),l(P,null,U(e(_),(s,L)=>(a(),l("tr",{key:`${s.classId}_${s.nftId}`},[t("td",null,"#"+o(L+1),1),t("td",null,[t("div",null,[f(" NFT ID: "),p(r,{"class-id":s.classId,"nft-id":s.nftId},null,8,["class-id","nft-id"]),et,f(" Sold by: "),p(h,{wallet:s.seller},null,8,["wallet"])])]),t("td",null,[t("section",null,[t("div",null,o(e(A)(s.price))+" LIKE",1),t("div",null,"till "+o(s.expiration),1)]),t("button",{onClick:lt=>F(s)},"Buy",8,st)])]))),128))])])):(a(),l("div",Y,"No one is selling this NFT yet"))])])}}});export{ct as default};
