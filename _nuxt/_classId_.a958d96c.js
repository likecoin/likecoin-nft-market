import{q as x,b as C,_ as V,B as S,s as q}from"./cosmos.e3befa63.js";import{_ as D}from"./UserLink.vue_vue_type_script_setup_true_lang.ee8e801e.js";import{a as E,b as R,p as $,s as j,r as k,m as K,e as M,f as n,h as t,t as o,u as e,j as w,k as f,l as p,F as P,i as U,o as l}from"./entry.ea5eb30b.js";import{u as W}from"./wallet.d7aea8b0.js";import{c as z,a as A}from"./index.570b3470.js";const G=t("br",null,null,-1),H=["src"],J=t("br",null,null,-1),O=["href"],Q=t("br",null,null,-1),X=t("h2",null,"Listings",-1),Y={key:0},Z={key:1},tt=t("thead",null,[t("tr",null,[t("th",null,"#"),t("th",null,"NFT information"),t("th",null,"Listing Price")])],-1),et=t("br",null,null,-1),st=["onClick"],ct=E({__name:"[classId]",setup(nt){const I=R(),T=$(),g=W(),{wallet:c,signer:d}=j(g),_=k([]),s=k({}),m=K(()=>T.params.classId);M(async()=>{s.value=await x(m.value),_.value=await C(m.value)});const{connect:B}=g;async function F({classId:v,nftId:y,seller:r,price:h}){if((!c.value||!d.value)&&await B(),!c.value||!d.value)return;const u=new S(h).shiftedBy(-9).toNumber(),i=await q(v,y,r,u,d.value,c.value);console.log(i),I.push({path:"/owned"})}return(v,y)=>{var u,i,N,b;const r=V,h=D;return l(),n("div",null,[t("h1",null,o(e(s).name),1),G,(i=(u=e(s).data)==null?void 0:u.metadata)!=null&&i.image?(l(),n("img",{key:0,src:e(z)(e(s).data.metadata.image),width:"256",height:"256"},null,8,H)):w("",!0),J,t("p",null,o(e(s).description),1),t("div",null,[f("Class ID: "),p(r,{"class-id":e(m)},null,8,["class-id"])]),(b=(N=e(s).data)==null?void 0:N.metadata)!=null&&b.external_url?(l(),n("a",{key:1,href:e(s).data.metadata.external_url,target:"_blank",rel:"noopener"},"View External Link",8,O)):w("",!0),Q,X,t("section",null,[e(_).length?(l(),n("table",Z,[tt,t("tbody",null,[(l(!0),n(P,null,U(e(_),(a,L)=>(l(),n("tr",null,[t("td",null,"#"+o(L+1),1),t("td",null,[t("div",null,[f(" NFT ID: "),p(r,{"class-id":a.classId,"nft-id":a.nftId},null,8,["class-id","nft-id"]),et,f(" Sold by: "),p(h,{wallet:a.seller},null,8,["wallet"])])]),t("td",null,[t("section",null,[t("div",null,o(e(A)(a.price))+" LIKE",1),t("div",null,"till "+o(a.expiration),1)]),t("button",{onClick:lt=>F(a)},"Buy",8,st)])]))),256))])])):(l(),n("div",Y,"No one is selling this NFT yet"))])])}}});export{ct as default};
