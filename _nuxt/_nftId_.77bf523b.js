import{_ as B,c as $,h as P}from"./index.e16ccaca.js";import{a as U,b as j,q,s as K,r,m as S,e as W,f as D,h as t,t as A,u as e,j as G,k as p,l as I,x as T,y,z as N,v as H,o as V}from"./entry.2c743e4f.js";import{u as J}from"./wallet.ad5f6102.js";import{u as Q}from"./metadata.54c194e5.js";const X=t("h1",null,"List NFT for sell",-1),Y=t("thead",null,[t("tr",null,[t("th",null,"#"),t("th",null,"NFT information")])],-1),Z=t("td",null,"#0",-1),tt=["src"],et=t("br",null,null,-1),at=t("br",null,null,-1),nt=["onSubmit"],st=t("label",{for:"listing-price"},"Price:",-1),lt=t("br",null,null,-1),ot=t("label",{for:"listing-expiration"},"Offer expiration:",-1),it=["max","min"],ut=t("br",null,null,-1),rt=t("input",{type:"submit",value:"Confirm"},null,-1),_t=U({__name:"[nftId]",setup(ct){const C=j(),f=q(),_=J(),F=Q(),{wallet:c,signer:d}=K(_),M=r({}),s=r({}),l=r(32),o=r(new Date(Date.now()+15552e6).toISOString().split("T")[0]),k=new Date(Date.now()+15552e6).toISOString().split("T")[0],L=new Date(Date.now()).toISOString().split("T")[0],n=S(()=>f.params.classId),m=S(()=>f.params.nftId),{connect:E}=_,{lazyFetchClassMetadata:O,lazyFetchNFTMetadata:R}=F;W(async()=>{M.value=await O(n.value),s.value=await R(n.value,m.value)});async function v(i){C.push({path:`/listings/${i}`})}async function z(){if((!c.value||!d.value)&&await E(),!c.value||!d.value)return;const i=new Date(o.value).getTime(),a=await P(n.value,m.value,l.value,i,d.value,c.value);console.log(a),v(n.value)}return(i,a)=>{var h,w,x,b;const g=B;return V(),D("div",null,[X,t("table",null,[Y,t("tbody",null,[t("tr",null,[Z,t("td",null,[t("div",null,[t("h4",null,A((h=e(s).data)==null?void 0:h.metadata.name),1),(x=(w=e(s).data)==null?void 0:w.metadata)!=null&&x.image?(V(),D("img",{key:0,src:e($)((b=e(s).data)==null?void 0:b.metadata.image),width:"256",height:"256"},null,8,tt)):G("",!0),et,p(" Class ID: "),I(g,{"class-id":e(n)},null,8,["class-id"]),at,p(" NFT ID: "),I(g,{"class-id":e(n),"nft-id":e(m)},null,8,["class-id","nft-id"])]),t("button",{onClick:a[0]||(a[0]=u=>v(e(n)))},"View current listing for class")])])])]),t("form",{onSubmit:H(z,["prevent"])},[st,T(t("input",{type:"number",id:"listing-price","onUpdate:modelValue":a[1]||(a[1]=u=>N(l)?l.value=u:null)},null,512),[[y,e(l)]]),p(" LIKE "),lt,ot,T(t("input",{type:"date",id:"listing-expiration","onUpdate:modelValue":a[2]||(a[2]=u=>N(o)?o.value=u:null),max:e(k),min:e(L)},null,8,it),[[y,e(o)]]),ut,rt],40,nt)])}}});export{_t as default};
