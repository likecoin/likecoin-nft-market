import{a as x,v as E,r,f as b,h as o,u as s,l as I,i as e,y as L,z as p,A as m,B as h,F as V,t as D,k as R,o as a}from"./entry.2f886ac3.js";import{C as U,j as B,k as H}from"./cosmos.50c2661b.js";import{u as O}from"./wallet.7404691d.js";const A=e("h2",null,"Send NFTs",-1),M={key:0},$={key:1},P=e("label",null,"NFT Class ID",-1),j=e("br",null,null,-1),z=e("br",null,null,-1),G=e("label",null,"Enter List of NFT IDs to send (optional)",-1),W=e("br",null,null,-1),X=e("label",null,"Recepient Address list",-1),q=e("br",null,null,-1),J=e("label",null,"Transfer message",-1),K=e("br",null,null,-1),Q=["href"],Y={key:1},Z={key:3},le=x({__name:"send",setup(ee){const y=O(),{wallet:u,signer:k}=E(y),i=r(""),T=r(!1),d=r(""),c=r(""),v=r(""),_=r(!1),g=r(""),f=r(""),C=b(()=>d.value.split(`
`)),w=b(()=>c.value.trim().split(`
`)),{connect:N}=y;async function F(){if(f.value="",_.value=!1,(!u.value||!k.value)&&await N(),!(!u.value||!k.value))try{_.value=!0;let l=C.value;if(!l||!l.length){const{nfts:n}=await B({classId:i.value,owner:u.value,needCount:w.value.length});l=n.map(S=>S.id)}if(l.length<w.value.length)throw new Error("NOT_ENOUGH_NFT_TO_SEND");const t=await H(w.value,i.value,l,k.value,u.value,v.value);_.value=!1,g.value=t.transactionHash}catch(l){console.error(l),f.value=l.toString()}}return(l,t)=>(a(),o("div",null,[A,s(u)?(a(),o("section",$,[e("section",null,[P,j,p(e("input",{"onUpdate:modelValue":t[1]||(t[1]=n=>h(i)?i.value=n:null)},null,512),[[m,s(i)]]),s(T)?(a(),o(V,{key:1},[z,G,W,p(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=n=>h(d)?d.value=n:null),cols:"50",rows:"10"},null,512),[[m,s(d)]])],64)):(a(),o("a",{key:0,href:"#",onClick:t[2]||(t[2]=L(n=>T.value=!0,["prevent"]))}," Maunally enter ID (optional) "))]),e("section",null,[X,q,p(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=n=>h(c)?c.value=n:null),cols:"50",rows:"10"},null,512),[[m,s(c)]])]),e("section",null,[J,K,p(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=n=>h(v)?v.value=n:null),cols:"50",rows:"3"},null,512),[[m,s(v)]])]),s(g)?(a(),o("a",{key:0,href:`${s(U)}/${s(g)}`,target:"_blank",rel:"noopener"}," Sucess, view transaction here ",8,Q)):s(_)?(a(),o("div",Y,"Loadings...")):(a(),o("button",{key:2,onClick:F},"Send")),s(f)?(a(),o("div",Z,D(s(f)),1)):R("",!0)])):(a(),o("div",M,[I("Please "),e("a",{href:"#",onClick:t[0]||(t[0]=L((...n)=>s(N)&&s(N)(...n),["prevent"]))},"connect"),I(" wallet")]))]))}});export{le as default};
