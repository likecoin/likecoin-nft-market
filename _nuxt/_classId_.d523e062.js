import{L as x,q as S,b as C,_ as $,B as b,s as q}from"./cosmos.1cafdb50.js";import{a as k,o as n,e as l,t as a,u as o,p as D,q as R,s as E,r as L,m as V,b as K,f as s,k as y,j as I,F as U,h as j,v as A,x as H,y as M}from"./entry.94c0d707.js";import{u as O}from"./wallet.e937ed84.js";const P=["href"],W=k({__name:"UserLink",props:{wallet:{type:String,required:!0}},setup(t){const r=t;return(N,i)=>(n(),l("a",{href:`https://${o(x)}/${r.wallet}`,target:"_blank",rel:"noopener"},a(t.wallet),9,P))}}),g=t=>(A("data-v-0d0c4315"),t=t(),H(),t),z=g(()=>s("h2",null,"Listings",-1)),G={key:0},J={key:1},Q=g(()=>s("thead",null,[s("tr",null,[s("th",null,"#"),s("th",null,"NFT information"),s("th",null,"Listing Price")])],-1)),X=g(()=>s("br",null,null,-1)),Y=["onClick"],Z=k({__name:"[classId]",setup(t){const r=D(),N=R(),i=O(),{wallet:d,signer:_}=E(i),p=L([]),h=L({}),f=V(()=>N.params.classId);K(async()=>{h.value=await S(f.value),p.value=await C(f.value)});const{connect:T}=i;function B(c){return new b(c).shiftedBy(-9).toFixed()}async function F({classId:c,nftId:w,seller:u,price:v}){if((!d.value||!_.value)&&await T(),!d.value||!_.value)return;const e=new b(v).shiftedBy(-9).toNumber(),m=await q(c,w,u,e,_.value,d.value);console.log(m),r.push({path:"/owned"})}return(c,w)=>{const u=$,v=W;return n(),l("div",null,[s("h1",null,a(o(h).name),1),s("p",null,a(o(h).description),1),s("div",null,[y("Class ID: "),I(u,{"class-id":o(f)},null,8,["class-id"])]),z,s("section",null,[o(p).length?(n(),l("table",J,[Q,s("tbody",null,[(n(!0),l(U,null,j(o(p),(e,m)=>(n(),l("tr",null,[s("td",null,"#"+a(m+1),1),s("td",null,[s("div",null,[y(" NFT ID: "),I(u,{"class-id":e.classId,"nft-id":e.nftId},null,8,["class-id","nft-id"]),X,y(" Sold by: "),I(v,{wallet:e.seller},null,8,["wallet"])])]),s("td",null,[s("section",null,[s("div",null,a(B(e.price))+" LIKE",1),s("div",null,"till "+a(e.expiration),1)]),s("button",{onClick:ss=>F(e)},"Buy",8,Y)])]))),256))])])):(n(),l("div",G,"No one is selling this NFT yet"))])])}}});const ls=M(Z,[["__scopeId","data-v-0d0c4315"]]);export{ls as default};
