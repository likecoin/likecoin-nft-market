import{L as T,q as b,a as C,_ as $,B as w,s as q}from"./cosmos.d492ccf4.js";import{a as k,o as n,e as a,t as l,u as t,b as x,j as R,s as S,r as L,k as E,l as V,f as e,m as v,p as D,F as K,q as U}from"./entry.3b2d7bc7.js";import{u as j}from"./wallet.1af1a338.js";const A=["href"],H=k({__name:"UserLink",props:{wallet:{type:String,required:!0}},setup(c){const i=c;return(g,d)=>(n(),a("a",{href:`https://${t(T)}/${i.wallet}`,target:"_blank",rel:"noopener"},l(c.wallet),9,A))}}),M=e("h2",null,"Listings",-1),O={key:0},W=["onClick"],P=k({__name:"[classId]",setup(c){const i=x(),g=R(),d=j(),{wallet:p,signer:_}=S(d),m=L([]),f=L({}),o=E(()=>g.params.classId);V(async()=>{f.value=await b(o.value),m.value=await C(o.value)});const{connect:B}=d;function F(r){return new w(r).shiftedBy(-9).toFixed()}async function I({classId:r,nftId:y,seller:u,price:h}){if((!p.value||!_.value)&&await B(),!p.value||!_.value)return;const s=new w(h).shiftedBy(-9).toNumber(),N=await q(r,y,u,s,_.value,p.value);console.log(N),i.push({path:"/owned"})}return(r,y)=>{const u=$,h=H;return n(),a("div",null,[e("h1",null,l(t(f).name),1),e("h3",null,[v(u,{"class-id":t(o)},null,8,["class-id"])]),e("p",null,l(t(f).description),1),M,e("ul",null,[t(m).length?D("",!0):(n(),a("div",O,"No one is selling this NFT yet")),(n(!0),a(K,null,U(t(m),s=>(n(),a("li",null,[e("div",null,[v(u,{"class-id":t(o),"nft-id":s.nftId},null,8,["class-id","nft-id"]),e("span",null," | "+l(F(s.price))+" LIKE | ",1),v(h,{wallet:s.seller},null,8,["wallet"]),e("span",null," | "+l(s.expiration),1),e("button",{onClick:N=>I(s)},"Buy",8,W)])]))),256))])])}}});export{P as default};
